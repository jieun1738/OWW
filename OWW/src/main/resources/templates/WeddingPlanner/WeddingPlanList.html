<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
  <title layout:fragment="title">웨딩플래너 | 플랜 목록</title>
</head>
<body>
<section layout:fragment="content">
  <div class="page" id="wp-planlist">

    <!-- 좌측 사이드바 -->
    <div th:replace="~{fragments/MainSideBar :: sidebar(user=${user}, active='WeddingPlanner/WeddingPlanList', progress=${progressPercent})}"></div>

    <!-- 우측 본문 -->
    <main class="main">
      <h1 class="section-title">최종 확정된 플랜</h1>

      <div th:if="${#lists.isEmpty(plans)}" style="border:1px dashed var(--line);border-radius:12px;padding:14px;background:var(--muted)">
        아직 확정된 플랜이 없습니다.
      </div>

      <table th:if="${!#lists.isEmpty(plans)}" style="width:100%;border-collapse:collapse;border:1px solid var(--line);border-radius:12px;overflow:hidden">
        <thead style="background:var(--muted)">
          <tr>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Plan No</th>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Package No</th>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Hall</th>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Studio</th>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Dress</th>
            <th style="padding:10px;border-bottom:1px solid var(--line);text-align:left">Makeup</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="pl : ${plans}">
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.plan_no}">1</td>
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.package_no}">9999</td>
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.hall}">0</td>
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.studio}">0</td>
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.dress}">0</td>
            <td style="padding:10px;border-bottom:1px solid var(--line)" th:text="${pl.makeup}">0</td>
          </tr>
        </tbody>
      </table>

      <!-- 마이페이지로 이동하는 링크(선택) -->
      <div style="margin-top:12px">
        <a href="/mypage" class="btn" style="padding:10px 14px;border-radius:10px;border:1px solid var(--line)">마이페이지로 이동</a>
      </div>
    </main>
  </div>
</section>
</body>
</html>
