<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Own Wedding Wallet</title>
<link rel="stylesheet" href="/css/page.css" />
<link rel="stylesheet" href="/css/design.css" />
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
<style>
body { display: block !important; justify-content: initial !important; align-items: initial !important;
       background: linear-gradient(135deg, #f8d7da 0%, #e1bee7 50%, #c8a2c8 100%);
       min-height: 100vh; font-family: Arial, sans-serif; color: #6b4c6b; }
.site-layout { background: linear-gradient(135deg, #f8d7da 0%, #e1bee7 50%, #c8a2c8 100%); }
.container { max-width: 1200px; margin: 50px auto; padding: 20px; display: flex; flex-direction: column; align-items: center; gap: 30px; }
.card { background: rgba(255, 255, 255, 0.9); border-radius: 20px; padding: 32px 40px; box-shadow: 0 8px 25px rgba(200, 162, 200, 0.3); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); width: 100%; max-width: 700px; box-sizing: border-box; }
.section-title { font-size: 24px; font-weight: 700; color: #8b5a8c; margin-bottom: 25px; text-align: center; }

.history-table { width: 100%; border-collapse: separate; border-spacing: 0; border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(200, 162, 200, 0.2); background: rgba(255,255,255,0.9); margin-top:20px; }
.history-table th { background: rgba(255,255,255,0.9); padding: 15px; text-align: center; font-size: 14px; font-weight: 700; color: #8b5a8c; border-bottom: 1px solid rgba(200,162,200,0.3); }
.history-table td { padding: 12px; text-align: center; font-size: 14px; border-bottom: 1px solid rgba(200,162,200,0.1); }
.history-table tbody tr { background: rgba(255,255,255,0.7); }
.no-data { text-align:center; padding:40px 20px; color:#a569a5; font-size:16px; font-weight:500; background: rgba(255,255,255,0.7); border-radius: 15px; border: 1px solid rgba(200,162,200,0.2); }

@media(max-width:768px){.container{margin:20px auto;padding:15px;}.history-table td, .history-table th{font-size:12px;}}
</style>
</head>
<body class="site-layout">

<!-- header/nav fragment 포함 -->
<div th:replace="~{header :: siteHeader('banking')}"></div>
<nav th:replace="~{nav :: siteNav('banking')}"></nav>

<div class="container">

    <div class="card">
        <div class="section-title">📋 세이프박스 거래 내역</div>
        <div th:if="${history == null or #lists.isEmpty(history)}" class="no-data">
            조회된 거래 내역이 없습니다.
        </div>
        <table class="history-table" th:if="${history != null and !#lists.isEmpty(history)}">
            <thead>
                <tr>
                    <th>거래일자</th>
                    <th>거래구분</th>
                    <th>금액</th>
                    <th>메모</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="h : ${history}">
                    <td th:text="${#dates.format(h.paymentDate,'yyyy-MM-dd')}"></td>
                    <td th:text="${h.paymentType != null ? (h.paymentType=='SAFE_DEPOSIT'?'입금':'출금') : '입금'}"></td>
                    <td th:text="'₩' + #numbers.formatInteger(h.amount, 3, 'COMMA')"></td>
                    <td th:text="${h.memo != null ? h.memo : '-'}"></td>
                </tr>
            </tbody>
        </table>
    </div>

</div>

</body>
</html>
