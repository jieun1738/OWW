// 로그인 함수는 단순하게
function login() {
    window.location.href = '/auth/oauth2/authorization/google';
}

function logout() {
    deleteCookie('jwt-token');
    showLoggedOutState();
    updateUserInfo('사용자', 'user@example.com');
}

// Banking 서비스 버튼만 fetch 처리
document.addEventListener('DOMContentLoaded', function() {
    checkLoginStatus();
    
    // banking 서비스 버튼만 선택
    document.querySelectorAll('.banking-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            const url = btn.dataset.url;
            const redirect = btn.dataset.redirect;
            
            fetch(url, {
                method: 'GET',
                credentials: 'include'
            })
            .then(res => {
                if (!res.ok) throw new Error('인증 필요');
                window.location.href = redirect;
            })
            .catch(err => alert(err.message));
        });
    });
});