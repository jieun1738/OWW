package oww.banking.mapper;

import java.util.List;

import org.apache.ibatis.annotations.Mapper;
import org.springframework.data.repository.query.Param;

import oww.banking.vo.AccountVO;

@Mapper
public interface UserMapper {

    /**
     * 계좌 생성
     * @param account 계좌 정보
     * @return 생성된 행 수
     */
    int createAccount(AccountVO account);

    /**
     * 이메일로 계좌 조회
     * @param userEmail 사용자 이메일
     * @return 계좌 정보
     */
    AccountVO findAccountByEmail(@Param("userEmail") String userEmail);

    /**
     * 이메일로 계좌 존재 여부 확인
     * @param userEmail 사용자 이메일
     * @return 존재 여부 (true/false)
     */
    boolean existsByEmail(@Param("userEmail") String userEmail);

    /**
     * 계좌 ID로 계좌 조회
     * @param accountId 계좌 ID
     * @return 계좌 정보
     */
    AccountVO findAccountById(@Param("accountId") int accountId);

    /**
     * 계좌 잔액 업데이트
     * @param accountId 계좌 ID
     * @param balance 새로운 잔액
     * @return 업데이트된 행 수
     */
    int updateBalance(@Param("accountId") int accountId, @Param("balance") int balance);

    /**
     * 계좌 비밀번호 확인
     * @param accountId 계좌 ID
     * @param password 비밀번호
     * @return 비밀번호 일치 여부 (true/false)
     */
    boolean verifyPassword(@Param("accountId") int accountId, @Param("password") int password);

    /**
     * 모든 계좌 조회 (관리자용)
     * @return 모든 계좌 목록
     */
    List<AccountVO> findAllAccounts();

    /**
     * 계좌 삭제
     * @param accountId 계좌 ID
     * @return 삭제된 행 수
     */
    int deleteAccount(@Param("accountId") int accountId);
}