<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>상품 비교</title>

</head>
<body>
<form action="/searchloan">
<input type="text" name="search" placeholder="대출 상품명 검색" />
<input type="hidden" name="lastUrl" value="LoanComparison">
<button type="submit">검색</button>
</form>
<h1>대출 비교</h1>
<ul>
<div>
    <form th:each="product : ${products}" th:action="@{/loancomparisonADD}" method="get">
    <input type="hidden" name="loanName" th:value="${product}" />
    <button type="submit" th:text="${product}"></button>
  </form> 
</div>
</ul>
<div style="display: flex; gap: 20px;">
<div style="border:1px solid #333; padding:10px; margin-bottom:10px;">
<h4>상품 1: <span th:text="${session.loandetails1 != null} ? ${session.loandetails1.loanName} : '선택된 상품 없음'">선택된 상품 없음</span></h4>
 <p>상세 설명: <span th:text="${session.loandetails1 != null} ? ${session.loandetails1.LoanExplanation} : '-'">-</span></p>
  <p>대출 한도: <span th:text="${session.loandetails1 != null} ? ${session.loandetails1.LoanLimit} : '-'">-</span></p>
  <p>대출 기간(개월): <span th:text="${session.loandetails1 != null} ? ${session.loandetails1.LoanPeriod} : '-'">-</span></p>
  <p>상환 방식:   <span th:switch="${session.loandetails1 != null} ? ${session.loandetails1.LoanRepaymentType} : -1">
    <span th:case="0">원리금 균등상환</span>
    <span th:case="1">원금균등상환</span>
    <span th:case="*">-</span>
  </span>
 
  <p>이자율(%): <span th:text="${session.loandetails1 != null} ? ${session.loandetails1.InterestRate} : '-'">-</span></p>
  <form th:if="${session.loandetails1 != null}" th:action="@{/loandetail}" method="get" style="margin-top: 10px;">
    <input type="hidden" name="loanName" th:value="${session.loandetails1.loanName}" />
    <button type="submit">선택</button>
  </form>
<form th:if="${session.loandetails1 != null}" th:action="@{/loancomparisonDEL1}" method="post" style="margin-top: 10px;">
    <button type="submit">취소</button>
</form>
</div>

     
<div style="border:1px solid #333; padding:10px; margin-bottom:10px;">
<h4>상품 2: <span th:text="${session.loandetails2 != null} ? ${session.loandetails2.loanName} : '선택된 상품 없음'">선택된 상품 없음</span></h4>
 <p>상세 설명: <span th:text="${session.loandetails2 != null} ? ${session.loandetails2.LoanExplanation} : '-'">-</span></p>
  <p>대출 한도: <span th:text="${session.loandetails2 != null} ? ${session.loandetails2.LoanLimit} : '-'">-</span></p>
  <p>대출 기간(개월): <span th:text="${session.loandetails2 != null} ? ${session.loandetails2.LoanPeriod} : '-'">-</span></p>
  <p>상환 방식:   <span th:switch="${session.loandetails2 != null} ? ${session.loandetails2.LoanRepaymentType} : -1">
    <span th:case="0">원리금 균등상환</span>
    <span th:case="1">원금균등상환</span>
    <span th:case="*">-</span>
  </span>
  <p>이자율(%): <span th:text="${session.loandetails2 != null} ? ${session.loandetails2.InterestRate} : '-'">-</span></p>
	
  <form th:if="${session.loandetails2 != null}" th:action="@{/loandetail}" method="get" style="margin-top: 10px;">
    <input type="hidden" name="loanName" th:value="${session.loandetails2.loanName}" />
    <button type="submit">선택</button>
  </form>
<form th:if="${session.loandetails2 != null}" th:action="@{/loancomparisonDEL2}" method="post" style="margin-top: 10px;">
    <button type="submit">취소</button>
</form>
</div>

</div>
</body>
</html>