<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
  <meta charset="UTF-8"/>
  <title>업체관리</title>
  <link rel="stylesheet" th:href="@{/css/admin-sidebar.css}"/>
  <link rel="stylesheet" th:href="@{/css/admin-dashboard.css}"/>
  <link rel="stylesheet" th:href="@{/css/enterprise-list.css}"/> 
</head>
<body>
<div class="page">
  <!-- 사이드바 -->
  <div th:replace="~{fragments/admin-sidebar :: sidebar}"></div>

  <main class="content dashboard">
    <div class="page-header">
      <div>
        <h1 class="page-title">
          업체관리
          <span class="count-badge" th:text="${#lists.size(items)} + '개'">0개</span>
        </h1>
      </div>
      <div class="actions">
        <a class="btn btn-edit" th:href="@{/admin/enterprise/new}">+ 추가</a>
      </div>
    </div>

    <!-- 카드 리스트 -->
    <section class="enterprise-list">
      <!-- 빈 상태 -->
      <div class="empty" th:if="${#lists.isEmpty(items)}">
        <strong>등록된 업체가 없습니다.</strong><br/>
        우측 상단의 <b>+ 추가</b> 버튼으로 새 업체를 등록하세요.
      </div>

      <!-- 실제 데이터 -->
      <div class="enterprise-card" th:each="e : ${items}" th:unless="${#lists.isEmpty(items)}">
        <img th:if="${e.imageUrl}" th:src="${e.imageUrl}" alt="업체 이미지">
        <div class="thumb-placeholder" th:if="${e.imageUrl} == null">No Img</div>

        <h3 th:text="${e.name}">업체명</h3>

        <div class="actions">
          <a th:href="@{|/admin/enterprise/${e.id}/edit|}" class="btn btn-edit">수정</a>
          <form th:action="@{|/admin/enterprises/${e.id}/delete|}" method="post" style="display:inline;">
            <button type="submit" class="btn btn-delete">삭제</button>
          </form>
        </div>
        
      </div>
    </section>
  </main>
</div>
</body>
</html>
